<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>News & Weather ‚Äì Essential Radio</title>
  <link rel="icon" href="favicon.ico" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #00818a, #7e1974);
      color: white;
      padding: 20px;
    }
    .header {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 30px;
    }
    .logo {
      width: 120px;
      filter: drop-shadow(0 2px 6px rgba(0, 0, 0, 0.4));
    }
    h1 {
      font-size: 28px;
      font-weight: 600;
    }
    .content-card {
      background: #111;
      border: 1px solid #333;
      border-radius: 12px;
      padding: 30px;
      max-width: 900px;
      margin: 0 auto 40px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
    }
    .content-card h2 {
      color: #00e0ff;
      margin-top: 0;
    }
    .content-card ul {
      padding-left: 20px;
      list-style: square;
    }
    .content-card li {
      margin-bottom: 10px;
    }
    .content-card a {
      color: #00e0ff;
      text-decoration: none;
    }
    .content-card a:hover {
      text-decoration: underline;
    }
    footer {
      margin-top: 60px;
      text-align: center;
      font-size: 14px;
      opacity: 0.8;
    }
    @media (max-width: 600px) {
      .content-card {
        padding: 20px;
      }
      h1 {
        font-size: 22px;
      }
    }
  </style>
</head>
<body>
  <header class="header">
    <img src="ERLogo2.png" alt="Essential Radio Logo" class="logo" />
    <h1>News & Weather</h1>
  </header>

  <section class="content-card">
    <h2>üì∞ Latest Headlines</h2>
    <ul id="news-list"><li>Loading news...</li></ul>
  </section>

  <section class="content-card">
    <h2>üå§Ô∏è Weather Update</h2>
    <p id="weather-update">Loading forecast...</p>
  </section>

  <footer>Essential Radio &copy; 2025</footer>

  <script>
    // NEWS FROM proxy.php
    fetch('proxy.php')
      .then(response => response.text())
      .then(str => {
        const parser = new DOMParser();
        const xml = parser.parseFromString(str, "text/xml");
        const items = xml.querySelectorAll("item");
        const newsList = document.getElementById("news-list");
        newsList.innerHTML = "";
        for (let i = 0; i < Math.min(5, items.length); i++) {
          const title = items[i].querySelector("title").textContent;
          const link = items[i].querySelector("link").textContent;
          const li = document.createElement("li");
          li.innerHTML = `<a href="${link}" target="_blank">${title}</a>`;
          newsList.appendChild(li);
        }
      })
      .catch(error => {
        document.getElementById("news-list").innerHTML = "<li>‚ö†Ô∏è Could not load news.</li>";
      });

    // WEATHER FROM weather.txt
    fetch('weather.txt')
      .then(response => response.text())
      .then(text => {
        document.getElementById("weather-update").textContent = text;
      })
      .catch(error => {
        document.getElementById("weather-update").textContent = "‚ö†Ô∏è Could not load weather data.";
      });
  </script>
</body>
</html>
